<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Ontario Real Estate Transaction Tool - Full Compliance Edition</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <svg class="theme-toggle-icon" id="theme-icon-light" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <path d="m12 7-4-4M12 17l-4 4M17 12h4M7 12H3M15.54 8.46l2.83-2.83M5.17 19.83l2.83-2.83M8.46 15.54l-2.83 2.83M19.83 5.17l-2.83 2.83"></path>
        </svg>
        <svg class="theme-toggle-icon hidden" id="theme-icon-dark" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
        <span id="theme-text">Dark</span>
    </button>

    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="header__branding">
                    <h1 class="header__title">Complete Ontario Real Estate Transaction Tool</h1>
                    <p class="header__subtitle">Full Compliance Edition - RECO | FINTRAC | PIPEDA</p>
                </div>
                <div class="header__logo">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9,22 9,12 15,12 15,22"></polyline>
                    </svg>
                </div>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- Universal Mandatory Forms - Always Displayed -->
            <div class="universal-forms-section">
                <div class="card warning-card">
                    <div class="card__header">
                        <div class="warning-header">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="warning-icon">
                                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                                <path d="M12 9v4"/>
                                <path d="m12 17 .01 0"/>
                            </svg>
                            <h2>⚠️ UNIVERSAL MANDATORY FORMS - Required for Every Transaction</h2>
                        </div>
                        <p class="text-secondary">These forms are required by RECO, FINTRAC, and PIPEDA for ALL Ontario real estate transactions regardless of type.</p>
                    </div>
                    <div class="card__body">
                        <div id="universal-forms-list" class="universal-forms-list">
                            <!-- Universal forms will be populated here by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Transaction Profile Form -->
            <div class="input-section">
                <div class="card">
                    <div class="card__header">
                        <h2>Complete Transaction Profile</h2>
                        <p class="text-secondary">Classify your transaction for accurate form and clause recommendations with full compliance guidance.</p>
                    </div>
                    <div class="card__body">
                        <form id="transaction-form" class="form">
                            <div class="form-section">
                                <h3 class="form-section__title">Essential Classifications <span class="required">*</span></h3>
                                
                                <div class="form-group">
                                    <label class="form-label">Property Type</label>
                                    <div class="form-group__options">
                                        <label class="radio-option">
                                            <input type="radio" name="property_type" value="residential_freehold" required>
                                            <span class="radio-option__label">Residential Freehold</span>
                                            <span class="radio-option__description">Houses, townhomes, detached properties</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="property_type" value="residential_condo" required>
                                            <span class="radio-option__label">Residential Condo</span>
                                            <span class="radio-option__description">Condo units, apartments</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="property_type" value="commercial" required>
                                            <span class="radio-option__label">Commercial</span>
                                            <span class="radio-option__description">Office, retail, industrial</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="property_type" value="vacant_land" required>
                                            <span class="radio-option__label">Vacant Land</span>
                                            <span class="radio-option__description">Undeveloped lots</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="property_type" value="new_construction" required>
                                            <span class="radio-option__label">New Construction</span>
                                            <span class="radio-option__description">Pre-construction, newly built</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="property_type" value="business_purchase" required>
                                            <span class="radio-option__label">Business Purchase</span>
                                            <span class="radio-option__description">Buying an existing business</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Client Type</label>
                                    <div class="form-group__options">
                                        <label class="radio-option">
                                            <input type="radio" name="client_type" value="individual" required>
                                            <span class="radio-option__label">Individual</span>
                                            <span class="radio-option__description">Personal buyers/sellers</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="client_type" value="corporate" required>
                                            <span class="radio-option__label">Corporate</span>
                                            <span class="radio-option__description">Companies, corporations</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="client_type" value="mixed" required>
                                            <span class="radio-option__label">Mixed</span>
                                            <span class="radio-option__description">Individual + Corporate</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Representation Status</label>
                                    <div class="form-group__options">
                                        <label class="radio-option">
                                            <input type="radio" name="representation_status" value="client_represented" required>
                                            <span class="radio-option__label">Client Represented</span>
                                            <span class="radio-option__description">You represent the client</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="representation_status" value="self_represented" required>
                                            <span class="radio-option__label">Self-Represented</span>
                                            <span class="radio-option__description">Party represents themselves</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="representation_status" value="multiple_representation" required>
                                            <span class="radio-option__label">Multiple Representation</span>
                                            <span class="radio-option__description">You represent both parties</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Fund Handling</label>
                                    <div class="form-group__options">
                                        <label class="radio-option">
                                            <input type="radio" name="fund_handling" value="deposits_received" required>
                                            <span class="radio-option__label">Deposits Received by Brokerage</span>
                                            <span class="radio-option__description">You will handle client funds</span>
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="fund_handling" value="no_funds" required>
                                            <span class="radio-option__label">No Funds Handled</span>
                                            <span class="radio-option__description">No deposit handling</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3 class="form-section__title">Additional Classifications (For Enhanced Accuracy)</h3>
                                
                                <div class="form-group">
                                    <label class="form-label">Additional Characteristics</label>
                                    <div class="form-group__options form-group__options--checkboxes">
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="transaction_details" value="high_value">
                                            <span class="checkbox-option__label">High Value ($1M+)</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="transaction_details" value="out_of_province">
                                            <span class="checkbox-option__label">Out-of-Province Clients</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="transaction_details" value="foreign_nationals">
                                            <span class="checkbox-option__label">Foreign Nationals</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="transaction_details" value="expedited">
                                            <span class="checkbox-option__label">Expedited Timeline (<30 days)</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="transaction_details" value="first_time_buyer">
                                            <span class="checkbox-option__label">First-time buyer</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="transaction_details" value="needs_financing">
                                            <span class="checkbox-option__label">Needs financing</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="transaction_details" value="selling_to_buy">
                                            <span class="checkbox-option__label">Selling current home to buy</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="transaction_details" value="rural">
                                            <span class="checkbox-option__label">Rural property</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="transaction_details" value="older_home">
                                            <span class="checkbox-option__label">Older home (40+ years)</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="form__actions">
                                <button type="submit" class="btn btn--primary btn--large">Generate Complete Compliance Analysis</button>
                                <button type="reset" class="btn btn--secondary">Reset Form</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Results Section - Initially Hidden -->
            <div id="results-section" class="results-section" style="display: none;">
                
                <!-- Property-Specific Forms -->
                <div class="card">
                    <div class="card__header">
                        <h2>Property-Specific OREA Forms</h2>
                        <p class="text-secondary">Required forms specific to your transaction type.</p>
                    </div>
                    <div class="card__body">
                        <div id="property-forms-list" class="property-forms-list">
                            <!-- Property-specific forms will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Clause Recommendations -->
                <div class="card">
                    <div class="card__header">
                        <h2>Clause Recommendations with Copy-Ready Text</h2>
                        <p class="text-secondary">Complete OREA clause text for your agreements.</p>
                    </div>
                    <div class="card__body">
                        <div class="clauses-section">
                            <div class="clause-category">
                                <h3 class="clause-category__title">Mandatory Clauses</h3>
                                <div id="mandatory-clauses" class="clauses-list">
                                    <!-- Mandatory clauses will be populated here -->
                                </div>
                            </div>
                            
                            <div class="clause-category">
                                <h3 class="clause-category__title">Recommended Clauses</h3>
                                <div id="recommended-clauses" class="clauses-list">
                                    <!-- Recommended clauses will be populated here -->
                                </div>
                            </div>
                            
                            <div class="clause-category">
                                <h3 class="clause-category__title">Conditional Clauses</h3>
                                <div id="conditional-clauses" class="clauses-list">
                                    <!-- Conditional clauses will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Compliance Checklist -->
                <div class="card">
                    <div class="card__header">
                        <h2>Transaction Compliance Checklist</h2>
                        <p class="text-secondary">Ensure all regulatory requirements are met.</p>
                    </div>
                    <div class="card__body">
                        <div id="compliance-checklist" class="compliance-checklist">
                            <!-- Compliance checklist will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Export Actions -->
                <div class="card">
                    <div class="card__header">
                        <h2>Export & Copy Functions</h2>
                        <p class="text-secondary">Generate summaries and copy text for your agreements.</p>
                    </div>
                    <div class="card__body">
                        <div class="export-actions">
                            <button id="copy-all-clauses" class="btn btn--primary">Copy All Selected Clauses</button>
                            <button id="generate-summary" class="btn btn--success">Generate Complete Transaction Summary</button>
                            <button id="print-checklist" class="btn btn--secondary">Print Compliance Checklist</button>
                            <button id="export-forms" class="btn btn--secondary">Export Form List</button>
                            <button id="start-new-transaction" class="btn btn--outline">Start New Transaction</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <p class="footer__disclaimer">
                    <strong>Disclaimer:</strong> This tool provides guidance based on current Ontario real estate regulations. 
                    Always consult with qualified legal counsel and verify current requirements with RECO and OREA. 
                    Professional judgment is required for all real estate transactions.
                </p>
                <p class="footer__copyright">
                    © 2025 Ontario Real Estate Transaction Tool. For professional use only.
                </p>
            </div>
        </div>
    </footer>

    <!-- Copy Success Toast -->
    <div id="copy-toast" class="copy-toast">
        <div class="copy-toast__content">
            <svg class="copy-toast__icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20,6 9,17 4,12"></polyline>
            </svg>
            <span class="copy-toast__text">Copied to clipboard!</span>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
